{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { animated, useSpring } from \"@react-spring/web\";\nimport React, { useContext, useRef } from \"react\";\nimport styled from \"styled-components\";\nimport { useMeasure } from \"../dom/useMeasure\";\nimport { Interactive } from \"../input/Interactive\";\nimport { PopoverContext } from \"../popover/PopoverContext\";\nimport { PopoverManagerContext } from \"../popover/PopoverManagerContext\";\nimport { useIsomorphicLayoutEffect } from \"../state/useIsomorphicLayoutEffect\";\nconst Container = styled(animated.div).withConfig({\n  componentId: \"y5sqkf-0\"\n})([\"overflow:hidden;background:\", \";border:1px solid \", \";border-radius:4px;box-shadow:\", \";\"], ({\n  theme\n}) => theme.background.primary, ({\n  theme\n}) => theme.background.secondary, ({\n  theme\n}) => theme.elavation.high);\nconst List = styled.ul.withConfig({\n  componentId: \"y5sqkf-1\"\n})([\"padding:0;margin:0;&::before,&::after{content:\\\"\\\";display:block;height:8px;}\"]);\nconst Item = styled.li.withConfig({\n  componentId: \"y5sqkf-2\"\n})([\"list-style:none;\"]);\nconst Content = styled(Interactive).withConfig({\n  componentId: \"y5sqkf-3\"\n})([\"width:100%;padding:8px 15px;display:flex;font-weight:500;\"]);\nconst Icon = styled.div.withConfig({\n  componentId: \"y5sqkf-4\"\n})([\"margin-right:16px;& > svg{display:block;}\"]);\nexport function ActionOverflowMenu(props) {\n  const {\n    actions\n  } = props;\n  const [listRef, {\n    height\n  }] = useMeasure();\n  const style = useSpring({\n    height\n  });\n  const manager = useContext(PopoverManagerContext);\n  const popover = useContext(PopoverContext);\n  const containerRef = useRef(null);\n  useIsomorphicLayoutEffect(() => {\n    const {\n      current: container\n    } = containerRef;\n    if (!container) return;\n    container.scrollTop = 1;\n  });\n  return /*#__PURE__*/_jsx(Container, {\n    ref: containerRef,\n    style: style,\n    children: /*#__PURE__*/_jsx(List, {\n      ref: listRef,\n      children: actions.map(action => /*#__PURE__*/_jsx(Item, {\n        children: /*#__PURE__*/_jsxs(Content, {\n          onClick: () => {\n            action.handler();\n\n            if (manager && popover) {\n              manager.dismiss(popover.name);\n            }\n          },\n          children: [/*#__PURE__*/_jsx(Icon, {\n            \"aria-hidden\": true,\n            children: action.icon\n          }), action.label]\n        })\n      }, action.label))\n    })\n  });\n}","map":{"version":3,"sources":["/home/runner/work/site/site/common/layout/ActionOverflowMenu.tsx"],"names":["animated","useSpring","React","useContext","useRef","styled","useMeasure","Interactive","PopoverContext","PopoverManagerContext","useIsomorphicLayoutEffect","Container","div","theme","background","primary","secondary","elavation","high","List","ul","Item","li","Content","Icon","ActionOverflowMenu","props","actions","listRef","height","style","manager","popover","containerRef","current","container","scrollTop","map","action","handler","dismiss","name","icon","label"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,mBAApC;AACA,OAAOC,KAAP,IAAgBC,UAAhB,EAA4BC,MAA5B,QAA0C,OAA1C;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,UAAT,QAA2B,mBAA3B;AACA,SAASC,WAAT,QAA4B,sBAA5B;AACA,SAASC,cAAT,QAA+B,2BAA/B;AACA,SAASC,qBAAT,QAAsC,kCAAtC;AACA,SAASC,yBAAT,QAA0C,oCAA1C;AAGA,MAAMC,SAAS,GAAGN,MAAM,CAACL,QAAQ,CAACY,GAAV,CAAT;AAAA;AAAA,iGAGC,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAeA,KAAK,CAACC,UAAN,CAAiBC,OAHjC,EAIO,CAAC;AAAEF,EAAAA;AAAF,CAAD,KAAeA,KAAK,CAACC,UAAN,CAAiBE,SAJvC,EAOC,CAAC;AAAEH,EAAAA;AAAF,CAAD,KAAeA,KAAK,CAACI,SAAN,CAAgBC,IAPhC,CAAf;AAUA,MAAMC,IAAI,GAAGd,MAAM,CAACe,EAAV;AAAA;AAAA,qFAAV;AAYA,MAAMC,IAAI,GAAGhB,MAAM,CAACiB,EAAV;AAAA;AAAA,wBAAV;AAIA,MAAMC,OAAO,GAAGlB,MAAM,CAACE,WAAD,CAAT;AAAA;AAAA,iEAAb;AASA,MAAMiB,IAAI,GAAGnB,MAAM,CAACO,GAAV;AAAA;AAAA,iDAAV;AAYA,OAAO,SAASa,kBAAT,CAA4BC,KAA5B,EAA4D;AACjE,QAAM;AAAEC,IAAAA;AAAF,MAAcD,KAApB;AAEA,QAAM,CAACE,OAAD,EAAU;AAAEC,IAAAA;AAAF,GAAV,IAAwBvB,UAAU,EAAxC;AACA,QAAMwB,KAAK,GAAG7B,SAAS,CAAC;AACtB4B,IAAAA;AADsB,GAAD,CAAvB;AAIA,QAAME,OAAO,GAAG5B,UAAU,CAACM,qBAAD,CAA1B;AACA,QAAMuB,OAAO,GAAG7B,UAAU,CAACK,cAAD,CAA1B;AAEA,QAAMyB,YAAY,GAAG7B,MAAM,CAAiB,IAAjB,CAA3B;AACAM,EAAAA,yBAAyB,CAAC,MAAM;AAC9B,UAAM;AAAEwB,MAAAA,OAAO,EAAEC;AAAX,QAAyBF,YAA/B;AACA,QAAI,CAACE,SAAL,EAAgB;AAEhBA,IAAAA,SAAS,CAACC,SAAV,GAAsB,CAAtB;AACD,GALwB,CAAzB;AAOA,sBACE,KAAC,SAAD;AAAW,IAAA,GAAG,EAAEH,YAAhB;AAA8B,IAAA,KAAK,EAAEH,KAArC;AAAA,2BACE,KAAC,IAAD;AAAM,MAAA,GAAG,EAAEF,OAAX;AAAA,gBACGD,OAAO,CAACU,GAAR,CAAYC,MAAM,iBACjB,KAAC,IAAD;AAAA,+BACE,MAAC,OAAD;AACE,UAAA,OAAO,EAAE,MAAM;AACbA,YAAAA,MAAM,CAACC,OAAP;;AAEA,gBAAIR,OAAO,IAAIC,OAAf,EAAwB;AACtBD,cAAAA,OAAO,CAACS,OAAR,CAAgBR,OAAO,CAACS,IAAxB;AACD;AACF,WAPH;AAAA,kCASE,KAAC,IAAD;AAAM,+BAAN;AAAA,sBAAmBH,MAAM,CAACI;AAA1B,YATF,EAUGJ,MAAM,CAACK,KAVV;AAAA;AADF,SAAWL,MAAM,CAACK,KAAlB,CADD;AADH;AADF,IADF;AAsBD","sourcesContent":["import { animated, useSpring } from \"@react-spring/web\"\nimport React, { useContext, useRef } from \"react\"\nimport styled from \"styled-components\"\nimport { useMeasure } from \"../dom/useMeasure\"\nimport { Interactive } from \"../input/Interactive\"\nimport { PopoverContext } from \"../popover/PopoverContext\"\nimport { PopoverManagerContext } from \"../popover/PopoverManagerContext\"\nimport { useIsomorphicLayoutEffect } from \"../state/useIsomorphicLayoutEffect\"\nimport type { Action } from \"./ActionButtons\"\n\nconst Container = styled(animated.div)`\n  overflow: hidden;\n\n  background: ${({ theme }) => theme.background.primary};\n  border: 1px solid ${({ theme }) => theme.background.secondary};\n  border-radius: 4px;\n\n  box-shadow: ${({ theme }) => theme.elavation.high};\n`\n\nconst List = styled.ul`\n  padding: 0;\n  margin: 0;\n\n  &::before,\n  &::after {\n    content: \"\";\n    display: block;\n    height: 8px;\n  }\n`\n\nconst Item = styled.li`\n  list-style: none;\n`\n\nconst Content = styled(Interactive)`\n  width: 100%;\n\n  padding: 8px 15px;\n  display: flex;\n\n  font-weight: 500;\n`\n\nconst Icon = styled.div`\n  margin-right: 16px;\n\n  & > svg {\n    display: block;\n  }\n`\n\nexport type ActionOverflowMenuProps = {\n  actions: Action[]\n}\n\nexport function ActionOverflowMenu(props: ActionOverflowMenuProps) {\n  const { actions } = props\n\n  const [listRef, { height }] = useMeasure()\n  const style = useSpring({\n    height,\n  })\n\n  const manager = useContext(PopoverManagerContext)\n  const popover = useContext(PopoverContext)\n\n  const containerRef = useRef<HTMLDivElement>(null)\n  useIsomorphicLayoutEffect(() => {\n    const { current: container } = containerRef\n    if (!container) return\n\n    container.scrollTop = 1\n  })\n\n  return (\n    <Container ref={containerRef} style={style}>\n      <List ref={listRef}>\n        {actions.map(action => (\n          <Item key={action.label}>\n            <Content\n              onClick={() => {\n                action.handler()\n\n                if (manager && popover) {\n                  manager.dismiss(popover.name)\n                }\n              }}\n            >\n              <Icon aria-hidden>{action.icon}</Icon>\n              {action.label}\n            </Content>\n          </Item>\n        ))}\n      </List>\n    </Container>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}