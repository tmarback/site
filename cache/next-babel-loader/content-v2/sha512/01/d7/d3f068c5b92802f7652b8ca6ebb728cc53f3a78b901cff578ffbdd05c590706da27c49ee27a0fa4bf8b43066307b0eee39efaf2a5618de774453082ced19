{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useRef, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { SecondaryButton } from \"../button/SecondaryButton\";\nconst Button = styled(SecondaryButton).withConfig({\n  componentId: \"sc-6sd4v1-0\"\n})([\"input:focus + &&{background:\", \";border-color:\", \";}\"], ({\n  theme\n}) => theme.background.tertiary, ({\n  theme\n}) => theme.background.tertiary);\nexport function PasteFileButton(props) {\n  const {\n    className,\n    onChange: handleChange,\n    disabled = false\n  } = props;\n  const {\n    0: active,\n    1: setActive\n  } = useState(false);\n  const pasteInputRef = useRef(null);\n\n  const handlePaste = event => {\n    var _pasteInputRef$curren;\n\n    handleChange(Array.from(event.clipboardData.files));\n    (_pasteInputRef$curren = pasteInputRef.current) === null || _pasteInputRef$curren === void 0 ? void 0 : _pasteInputRef$curren.blur();\n  };\n\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(\"input\", {\n      ref: pasteInputRef,\n      tabIndex: -1,\n      placeholder: \"Paste your clipboard\",\n      disabled: disabled,\n      style: {\n        position: \"absolute\",\n        opacity: 0,\n        pointerEvents: \"none\"\n      },\n      onFocus: () => setActive(true),\n      onBlur: () => setActive(false),\n      onPaste: handlePaste\n    }), /*#__PURE__*/_jsx(Button, {\n      className: className,\n      disabled: disabled,\n      onClick: () => {\n        var _pasteInputRef$curren2;\n\n        (_pasteInputRef$curren2 = pasteInputRef.current) === null || _pasteInputRef$curren2 === void 0 ? void 0 : _pasteInputRef$curren2.focus();\n      },\n      children: active ? /mac/i.test(navigator.platform) ? \"Press \\u2318V\" : \"Press Ctrl+V\" : \"Clipboard\"\n    })]\n  });\n}","map":{"version":3,"sources":["/home/runner/work/site/site/common/input/file/PasteFileButton.tsx"],"names":["React","useRef","useState","styled","SecondaryButton","Button","theme","background","tertiary","PasteFileButton","props","className","onChange","handleChange","disabled","active","setActive","pasteInputRef","handlePaste","event","Array","from","clipboardData","files","current","blur","position","opacity","pointerEvents","focus","test","navigator","platform"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgCC,MAAhC,EAAwCC,QAAxC,QAAwD,OAAxD;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,eAAT,QAAgC,2BAAhC;AAEA,MAAMC,MAAM,GAAGF,MAAM,CAACC,eAAD,CAAT;AAAA;AAAA,6DAEM,CAAC;AAAEE,EAAAA;AAAF,CAAD,KAAeA,KAAK,CAACC,UAAN,CAAiBC,QAFtC,EAGQ,CAAC;AAAEF,EAAAA;AAAF,CAAD,KAAeA,KAAK,CAACC,UAAN,CAAiBC,QAHxC,CAAZ;AAaA,OAAO,SAASC,eAAT,CAAyBC,KAAzB,EAAsD;AAC3D,QAAM;AAAEC,IAAAA,SAAF;AAAaC,IAAAA,QAAQ,EAAEC,YAAvB;AAAqCC,IAAAA,QAAQ,GAAG;AAAhD,MAA0DJ,KAAhE;AAEA,QAAM;AAAA,OAACK,MAAD;AAAA,OAASC;AAAT,MAAsBd,QAAQ,CAAC,KAAD,CAApC;AAEA,QAAMe,aAAa,GAAGhB,MAAM,CAAmB,IAAnB,CAA5B;;AAEA,QAAMiB,WAAW,GAAIC,KAAD,IAA6C;AAAA;;AAC/DN,IAAAA,YAAY,CAACO,KAAK,CAACC,IAAN,CAAWF,KAAK,CAACG,aAAN,CAAoBC,KAA/B,CAAD,CAAZ;AACA,6BAAAN,aAAa,CAACO,OAAd,gFAAuBC,IAAvB;AACD,GAHD;;AAKA,sBACE;AAAA,4BACE;AACE,MAAA,GAAG,EAAER,aADP;AAEE,MAAA,QAAQ,EAAE,CAAC,CAFb;AAGE,MAAA,WAAW,EAAC,sBAHd;AAIE,MAAA,QAAQ,EAAEH,QAJZ;AAKE,MAAA,KAAK,EAAE;AACLY,QAAAA,QAAQ,EAAE,UADL;AAELC,QAAAA,OAAO,EAAE,CAFJ;AAGLC,QAAAA,aAAa,EAAE;AAHV,OALT;AAUE,MAAA,OAAO,EAAE,MAAMZ,SAAS,CAAC,IAAD,CAV1B;AAWE,MAAA,MAAM,EAAE,MAAMA,SAAS,CAAC,KAAD,CAXzB;AAYE,MAAA,OAAO,EAAEE;AAZX,MADF,eAeE,KAAC,MAAD;AACE,MAAA,SAAS,EAAEP,SADb;AAEE,MAAA,QAAQ,EAAEG,QAFZ;AAGE,MAAA,OAAO,EAAE,MAAM;AAAA;;AACb,kCAAAG,aAAa,CAACO,OAAd,kFAAuBK,KAAvB;AACD,OALH;AAAA,gBAOGd,MAAM,GACH,OAAOe,IAAP,CAAYC,SAAS,CAACC,QAAtB,IACE,eADF,GAEE,cAHC,GAIH;AAXN,MAfF;AAAA,IADF;AA+BD","sourcesContent":["import React, { ClipboardEvent, useRef, useState } from \"react\"\nimport styled from \"styled-components\"\nimport { SecondaryButton } from \"../button/SecondaryButton\"\n\nconst Button = styled(SecondaryButton)`\n  input:focus + && {\n    background: ${({ theme }) => theme.background.tertiary};\n    border-color: ${({ theme }) => theme.background.tertiary};\n  }\n`\n\nexport type PasteFileButtonProps = {\n  className?: string\n  onChange: (files: File[]) => void\n  disabled?: boolean\n}\n\nexport function PasteFileButton(props: PasteFileButtonProps) {\n  const { className, onChange: handleChange, disabled = false } = props\n\n  const [active, setActive] = useState(false)\n\n  const pasteInputRef = useRef<HTMLInputElement>(null)\n\n  const handlePaste = (event: ClipboardEvent<HTMLInputElement>) => {\n    handleChange(Array.from(event.clipboardData.files))\n    pasteInputRef.current?.blur()\n  }\n\n  return (\n    <>\n      <input\n        ref={pasteInputRef}\n        tabIndex={-1}\n        placeholder=\"Paste your clipboard\"\n        disabled={disabled}\n        style={{\n          position: \"absolute\",\n          opacity: 0,\n          pointerEvents: \"none\",\n        }}\n        onFocus={() => setActive(true)}\n        onBlur={() => setActive(false)}\n        onPaste={handlePaste}\n      />\n      <Button\n        className={className}\n        disabled={disabled}\n        onClick={() => {\n          pasteInputRef.current?.focus()\n        }}\n      >\n        {active\n          ? /mac/i.test(navigator.platform)\n            ? \"Press \\u2318V\"\n            : \"Press Ctrl+V\"\n          : \"Clipboard\"}\n      </Button>\n    </>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}