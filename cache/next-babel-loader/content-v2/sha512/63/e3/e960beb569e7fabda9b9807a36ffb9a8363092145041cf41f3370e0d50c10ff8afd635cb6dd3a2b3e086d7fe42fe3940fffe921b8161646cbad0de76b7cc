{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useObserver } from \"mobx-react-lite\";\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { PrimaryButton } from \"../../../common/input/button/PrimaryButton\";\nimport { SecondaryButton } from \"../../../common/input/button/SecondaryButton\";\nimport { ButtonRow } from \"../../../common/layout/ButtonRow\";\nimport { ModalManagerContext } from \"../../../common/modal/ModalManagerContext\";\nimport { useRequiredContext } from \"../../../common/state/useRequiredContext\";\nimport { Markdown } from \"../../markdown/Markdown\";\nimport { DatabaseManagerContext } from \"../DatabaseManagerContext\";\nimport { PushNotificationModal } from \"./PushNotificationModal\";\nconst Container = styled.div.withConfig({\n  componentId: \"sc-3x6mdx-0\"\n})([\"margin-top:16px;padding:16px;background:\", \";border-radius:3px;\"], ({\n  theme\n}) => theme.background.secondary);\nconst Header = styled.h5.withConfig({\n  componentId: \"sc-3x6mdx-1\"\n})([\"margin:0 0 8px;color:\", \";font-size:1em;font-weight:500;line-height:1.375;\"], ({\n  theme\n}) => theme.header.primary);\nconst Buttons = styled(ButtonRow).withConfig({\n  componentId: \"sc-3x6mdx-2\"\n})([\"margin-top:16px;\"]);\nexport function PersistentStorageWarning() {\n  const modalManager = useRequiredContext(ModalManagerContext);\n  const databaseManager = useRequiredContext(DatabaseManagerContext);\n  return useObserver(() => /*#__PURE__*/_jsxs(Container, {\n    children: [/*#__PURE__*/_jsx(Header, {\n      children: \"Warning\"\n    }), /*#__PURE__*/_jsx(Markdown, {\n      content: \"Your browser did not grant permission to use persistent storage\" + \" for this site. Data stored might be deleted by the browser when\" + \" this permission is not granted.\"\n    }), /*#__PURE__*/_jsxs(Buttons, {\n      children: [/*#__PURE__*/_jsx(PrimaryButton, {\n        onClick: async () => {\n          if (\"chrome\" in window) {\n            modalManager.spawn({\n              render: () => /*#__PURE__*/_jsx(PushNotificationModal, {\n                databaseManager: databaseManager\n              })\n            });\n          } else {\n            await databaseManager.requestPersistence();\n          }\n        },\n        children: \"Request permission\"\n      }), /*#__PURE__*/_jsx(SecondaryButton, {\n        onClick: () => {\n          databaseManager.persistenceMessageDismissed = true;\n        },\n        children: \"Dismiss\"\n      })]\n    })]\n  }));\n}","map":null,"metadata":{},"sourceType":"module"}