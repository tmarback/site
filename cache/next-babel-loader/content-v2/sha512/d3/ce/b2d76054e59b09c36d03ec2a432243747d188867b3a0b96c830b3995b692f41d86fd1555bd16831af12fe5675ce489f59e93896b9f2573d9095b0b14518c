{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport React, { useLayoutEffect, useState } from \"react\";\nimport styled from \"styled-components\";\nimport { DefaultAttachment } from \"./DefaultAttachment\";\nconst Image = styled.img.withConfig({\n  componentId: \"sc-17lta1j-0\"\n})([\"display:block;max-width:400px;max-height:300px;border-radius:3px;cursor:pointer;\"]);\nexport function ImageAttachment(props) {\n  const {\n    file\n  } = props;\n  const {\n    0: objectUrl,\n    1: setObjectUrl\n  } = useState(\"\");\n  useLayoutEffect(() => {\n    const objectUrl = URL.createObjectURL(file);\n    setObjectUrl(objectUrl);\n    return () => {\n      if (objectUrl) URL.revokeObjectURL(objectUrl);\n    };\n  }, [file]);\n  const {\n    0: errored,\n    1: setErrored\n  } = useState(false);\n  useLayoutEffect(() => setErrored(false), [objectUrl]);\n\n  if (errored) {\n    return /*#__PURE__*/_jsx(DefaultAttachment, {\n      file: file,\n      type: \"image\"\n    });\n  }\n\n  return /*#__PURE__*/_jsx(Image, {\n    src: objectUrl,\n    alt: file.name,\n    onError: () => setErrored(true)\n  });\n}","map":null,"metadata":{},"sourceType":"module"}