{"ast":null,"code":"import { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { useObserver } from \"mobx-react-lite\";\nimport dynamic from \"next/dynamic\";\nimport { em, rem, size } from \"polished\";\nimport React, { useContext } from \"react\";\nimport styled, { css, useTheme } from \"styled-components\";\nimport { SCREEN_SMALL } from \"../../../common/layout/breakpoints\";\nimport { DARK_THEME } from \"../../../common/theming/darkTheme\";\nimport { EditorManagerContext } from \"../../editor/EditorManagerContext\";\nconst Clock = dynamic(async () => import(\"./Clock\").then(module => module.Clock), {\n  ssr: false,\n  loadableGenerated: {\n    webpack: () => [require.resolveWeak(\"./Clock\")],\n    modules: [\"./Clock\"]\n  }\n});\nconst Container = styled.div.withConfig({\n  componentId: \"sgp62q-0\"\n})([\"\", \";\", \";\"], ({\n  theme\n}) => theme.appearance.display === \"cozy\" && css([\"position:relative;margin-left:\", \";padding-left:\", \";\", \";\"], rem(-72), rem(72), ({\n  theme\n}) => theme.appearance.fontSize > 16 && css([\"margin-left:-72px;padding-left:72px;\"])), ({\n  theme\n}) => theme.appearance.display === \"compact\" && css([\"display:inline;display:contents;\"]));\nconst Avatar = styled.img.withConfig({\n  componentId: \"sgp62q-1\"\n})([\"\", \";position:absolute;left:0;top:\", \";margin:0 \", \";border-radius:50%;object-fit:cover;cursor:pointer;&:hover{box-shadow:\", \";}&:active{transform:translateY(1px);}\", \";\", \"{display:none;}\"], size(rem(40)), rem(2), rem(16), ({\n  theme\n}) => theme.elavation.medium, ({\n  theme\n}) => theme.appearance.fontSize > 16 && css([\"\", \";margin:0 16px;\"], size(40)), SCREEN_SMALL);\nconst Username = styled.h1.withConfig({\n  componentId: \"sgp62q-2\"\n})([\"display:inline;vertical-align:baseline;margin:0 \", \" 0 0;color:\", \";font-size:\", \";font-weight:500;line-height:\", \";word-wrap:break-word;cursor:pointer;\", \";\", \";\"], rem(4), ({\n  theme\n}) => theme.header.primary, rem(16), rem(22), ({\n  theme\n}) => theme.appearance.display === \"compact\" && css([\"margin-right:\", \";\"], rem(8)), ({\n  theme\n}) => theme.appearance.color === \"light\" && css([\"font-weight:600;\"]));\nconst BotTag = styled.span.withConfig({\n  componentId: \"sgp62q-3\"\n})([\"position:relative;top:\", \";min-height:\", \";max-height:\", \";margin:\", \" \", \" 0 0;padding:\", \" \", \";border-radius:3px;background:\", \";color:\", \";font-size:\", \";font-weight:500;line-height:1.3;vertical-align:baseline;text-transform:uppercase;\"], rem(-1.6), em(20.4), em(20.4), em(1.2), rem(4), rem(1.15), rem(4.4), ({\n  theme\n}) => theme.discord.primary, DARK_THEME.header.primary, em(10));\nexport function MessageHeader(props) {\n  const {\n    timestamp,\n    badge\n  } = props;\n  let {\n    username,\n    avatarUrl\n  } = props;\n  const theme = useTheme();\n  const editorManager = useContext(EditorManagerContext);\n  return useObserver(() => {\n    if (editorManager && editorManager.targets.length > 0) {\n      if (!username) username = editorManager.targets[0].displayName;\n      if (!avatarUrl) avatarUrl = editorManager.targets[0].displayAvatarUrl;\n    }\n\n    let info = [/*#__PURE__*/_jsx(Username, {\n      children: username\n    }, \"username\"), badge !== null && /*#__PURE__*/_jsx(BotTag, {\n      children: badge !== null && badge !== void 0 ? badge : \"Bot\"\n    }, \"badge\"), /*#__PURE__*/_jsx(Clock, {\n      timestamp: timestamp\n    }, \"clock\")];\n    if (theme.appearance.display === \"compact\") info = info.reverse();\n    return /*#__PURE__*/_jsxs(Container, {\n      children: [theme.appearance.display === \"cozy\" && /*#__PURE__*/_jsx(Avatar, {\n        src: avatarUrl,\n        alt: \"User avatar\"\n      }), info]\n    });\n  });\n}","map":{"version":3,"sources":["/home/runner/work/site/site/modules/message/preview/MessageHeader.tsx"],"names":["useObserver","dynamic","em","rem","size","React","useContext","styled","css","useTheme","SCREEN_SMALL","DARK_THEME","EditorManagerContext","Clock","then","module","ssr","Container","div","theme","appearance","display","fontSize","Avatar","img","elavation","medium","Username","h1","header","primary","color","BotTag","span","discord","MessageHeader","props","timestamp","badge","username","avatarUrl","editorManager","targets","length","displayName","displayAvatarUrl","info","reverse"],"mappings":"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","sourcesContent":["import { useObserver } from \"mobx-react-lite\"\nimport dynamic from \"next/dynamic\"\nimport { em, rem, size } from \"polished\"\nimport React, { useContext } from \"react\"\nimport styled, { css, useTheme } from \"styled-components\"\nimport { SCREEN_SMALL } from \"../../../common/layout/breakpoints\"\nimport { DARK_THEME } from \"../../../common/theming/darkTheme\"\nimport { EditorManagerContext } from \"../../editor/EditorManagerContext\"\nimport type { ClockProps } from \"./Clock\"\n\nconst Clock = dynamic<ClockProps>(\n  async () => import(\"./Clock\").then(module => module.Clock),\n  { ssr: false },\n)\n\nconst Container = styled.div`\n  ${({ theme }) =>\n    theme.appearance.display === \"cozy\" &&\n    css`\n      position: relative;\n\n      margin-left: ${rem(-72)};\n      padding-left: ${rem(72)};\n\n      ${({ theme }) =>\n        theme.appearance.fontSize > 16 &&\n        css`\n          margin-left: -72px;\n          padding-left: 72px;\n        `};\n    `};\n\n  ${({ theme }) =>\n    theme.appearance.display === \"compact\" &&\n    css`\n      display: inline;\n      display: contents;\n    `};\n`\n\nconst Avatar = styled.img`\n  ${size(rem(40))};\n\n  position: absolute;\n  left: 0;\n  top: ${rem(2)};\n\n  margin: 0 ${rem(16)};\n\n  border-radius: 50%;\n  object-fit: cover;\n\n  cursor: pointer;\n\n  &:hover {\n    box-shadow: ${({ theme }) => theme.elavation.medium};\n  }\n\n  &:active {\n    transform: translateY(1px);\n  }\n\n  ${({ theme }) =>\n    theme.appearance.fontSize > 16 &&\n    css`\n      ${size(40)};\n\n      margin: 0 16px;\n    `};\n\n  ${SCREEN_SMALL} {\n    display: none;\n  }\n`\n\nconst Username = styled.h1`\n  display: inline;\n  vertical-align: baseline;\n\n  margin: 0 ${rem(4)} 0 0;\n\n  color: ${({ theme }) => theme.header.primary};\n  font-size: ${rem(16)};\n  font-weight: 500;\n  line-height: ${rem(22)};\n\n  word-wrap: break-word;\n\n  cursor: pointer;\n\n  ${({ theme }) =>\n    theme.appearance.display === \"compact\" &&\n    css`\n      margin-right: ${rem(8)};\n    `};\n\n  ${({ theme }) =>\n    theme.appearance.color === \"light\" &&\n    css`\n      font-weight: 600;\n    `};\n`\n\nconst BotTag = styled.span`\n  position: relative;\n  top: ${rem(-1.6)};\n\n  min-height: ${em(20.4)};\n  max-height: ${em(20.4)};\n\n  margin: ${em(1.2)} ${rem(4)} 0 0;\n  padding: ${rem(1.15)} ${rem(4.4)};\n\n  border-radius: 3px;\n  background: ${({ theme }) => theme.discord.primary};\n\n  color: ${DARK_THEME.header.primary};\n  font-size: ${em(10)};\n  font-weight: 500;\n  line-height: 1.3;\n  vertical-align: baseline;\n\n  text-transform: uppercase;\n`\n\nexport type MessageHeaderProps = {\n  username?: string\n  avatarUrl?: string\n  timestamp?: Date\n  badge?: string | null\n}\n\nexport function MessageHeader(props: MessageHeaderProps) {\n  const { timestamp, badge } = props\n  let { username, avatarUrl } = props\n\n  const theme = useTheme()\n\n  const editorManager = useContext(EditorManagerContext)\n\n  return useObserver(() => {\n    if (editorManager && editorManager.targets.length > 0) {\n      if (!username) username = editorManager.targets[0].displayName\n      if (!avatarUrl) avatarUrl = editorManager.targets[0].displayAvatarUrl\n    }\n\n    let info = [\n      <Username key=\"username\">{username}</Username>,\n      badge !== null && <BotTag key=\"badge\">{badge ?? \"Bot\"}</BotTag>,\n      <Clock key=\"clock\" timestamp={timestamp} />,\n    ]\n\n    if (theme.appearance.display === \"compact\") info = info.reverse()\n\n    return (\n      <Container>\n        {theme.appearance.display === \"cozy\" && (\n          <Avatar src={avatarUrl} alt=\"User avatar\" />\n        )}\n        {info}\n      </Container>\n    )\n  })\n}\n"]},"metadata":{},"sourceType":"module"}