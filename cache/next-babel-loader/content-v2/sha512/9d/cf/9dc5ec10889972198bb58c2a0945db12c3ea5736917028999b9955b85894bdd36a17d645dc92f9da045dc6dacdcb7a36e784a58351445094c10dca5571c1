{"ast":null,"code":"/* eslint-disable import/no-cycle */\nimport { getParentOfType, types } from \"mobx-state-tree\";\nimport { getUniqueId } from \"../../../../common/state/uid\";\nimport { EmbedModel } from \"./EmbedModel\";\nexport const FieldModel = types.model(\"FieldModel\", {\n  id: types.optional(types.identifierNumber, getUniqueId),\n  name: \"\",\n  value: \"\",\n  inline: false\n}).views(self => ({\n  get embed() {\n    return getParentOfType(self, EmbedModel);\n  },\n\n  get displayName() {\n    /* eslint-disable @typescript-eslint/prefer-nullish-coalescing */\n    return self.name.split(\"\\n\").map(line => line.trim()).find(Boolean) || self.value.split(\"\\n\").map(line => line.trim()).find(Boolean) || undefined;\n    /* eslint-enable @typescript-eslint/prefer-nullish-coalescing */\n  }\n\n})).actions(self => ({\n  set(key, value) {\n    self[key] = value;\n  }\n\n})); // eslint-disable-next-line @typescript-eslint/no-empty-interface, @typescript-eslint/consistent-type-definitions","map":{"version":3,"sources":["/home/runner/work/site/site/modules/message/state/models/FieldModel.ts"],"names":["getParentOfType","types","getUniqueId","EmbedModel","FieldModel","model","id","optional","identifierNumber","name","value","inline","views","self","embed","displayName","split","map","line","trim","find","Boolean","undefined","actions","set","key"],"mappings":"AAAA;AAEA,SACEA,eADF,EAIEC,KAJF,QAKO,iBALP;AAMA,SAASC,WAAT,QAA4B,8BAA5B;AACA,SAAoBC,UAApB,QAAsC,cAAtC;AAEA,OAAO,MAAMC,UAAU,GAAGH,KAAK,CAC5BI,KADuB,CACjB,YADiB,EACH;AACnBC,EAAAA,EAAE,EAAEL,KAAK,CAACM,QAAN,CAAeN,KAAK,CAACO,gBAArB,EAAuCN,WAAvC,CADe;AAEnBO,EAAAA,IAAI,EAAE,EAFa;AAGnBC,EAAAA,KAAK,EAAE,EAHY;AAInBC,EAAAA,MAAM,EAAE;AAJW,CADG,EAOvBC,KAPuB,CAOjBC,IAAI,KAAK;AACd,MAAIC,KAAJ,GAAuB;AACrB,WAAOd,eAAe,CAACa,IAAD,EAAOV,UAAP,CAAtB;AACD,GAHa;;AAKd,MAAIY,WAAJ,GAAkB;AAChB;AACA,WACEF,IAAI,CAACJ,IAAL,CACGO,KADH,CACS,IADT,EAEGC,GAFH,CAEOC,IAAI,IAAIA,IAAI,CAACC,IAAL,EAFf,EAGGC,IAHH,CAGQC,OAHR,KAIAR,IAAI,CAACH,KAAL,CACGM,KADH,CACS,IADT,EAEGC,GAFH,CAEOC,IAAI,IAAIA,IAAI,CAACC,IAAL,EAFf,EAGGC,IAHH,CAGQC,OAHR,CAJA,IAQAC,SATF;AAWA;AACD;;AAnBa,CAAL,CAPa,EA4BvBC,OA5BuB,CA4BfV,IAAI,KAAK;AAChBW,EAAAA,GAAG,CACDC,GADC,EAEDf,KAFC,EAGK;AACNG,IAAAA,IAAI,CAACY,GAAD,CAAJ,GAAYf,KAAZ;AACD;;AANe,CAAL,CA5BW,CAAnB,C,CAqCP","sourcesContent":["/* eslint-disable import/no-cycle */\n\nimport {\n  getParentOfType,\n  Instance,\n  SnapshotOrInstance,\n  types,\n} from \"mobx-state-tree\"\nimport { getUniqueId } from \"../../../../common/state/uid\"\nimport { EmbedLike, EmbedModel } from \"./EmbedModel\"\n\nexport const FieldModel = types\n  .model(\"FieldModel\", {\n    id: types.optional(types.identifierNumber, getUniqueId),\n    name: \"\",\n    value: \"\",\n    inline: false,\n  })\n  .views(self => ({\n    get embed(): EmbedLike {\n      return getParentOfType(self, EmbedModel)\n    },\n\n    get displayName() {\n      /* eslint-disable @typescript-eslint/prefer-nullish-coalescing */\n      return (\n        self.name\n          .split(\"\\n\")\n          .map(line => line.trim())\n          .find(Boolean) ||\n        self.value\n          .split(\"\\n\")\n          .map(line => line.trim())\n          .find(Boolean) ||\n        undefined\n      )\n      /* eslint-enable @typescript-eslint/prefer-nullish-coalescing */\n    },\n  }))\n  .actions(self => ({\n    set<K extends keyof typeof self>(\n      key: K,\n      value: SnapshotOrInstance<typeof self[K]>,\n    ): void {\n      self[key] = value\n    },\n  }))\n\n// eslint-disable-next-line @typescript-eslint/no-empty-interface, @typescript-eslint/consistent-type-definitions\nexport interface FieldLike extends Instance<typeof FieldModel> {}\n"]},"metadata":{},"sourceType":"module"}