{"ast":null,"code":"import { Fragment as _Fragment } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport Head from \"next/head\";\nimport Link from \"next/link\";\nimport Router from \"next/router\";\nimport React from \"react\";\nimport styled from \"styled-components\";\nimport { CodeBlockContainer } from \"../../modules/markdown/styles/CodeBlockContainer\";\nimport { PrimaryButton } from \"../input/button/PrimaryButton\";\nimport { SecondaryButton } from \"../input/button/SecondaryButton\";\nimport { SCREEN_SMALL } from \"../layout/breakpoints\";\nconst Container = styled.div.withConfig({\n  componentId: \"sc-1ewc626-0\"\n})([\"height:100%;overflow:auto;padding:64px 32px 0;\", \"{padding:32px 16px;}\"], SCREEN_SMALL);\nconst Header = styled.h1.withConfig({\n  componentId: \"sc-1ewc626-1\"\n})([\"margin:0;color:\", \";font-size:28px;\"], ({\n  theme\n}) => theme.header.primary);\nconst Message = styled.p.withConfig({\n  componentId: \"sc-1ewc626-2\"\n})([\"margin:16px 0;max-width:600px;font-size:16px;line-height:1.375;\"]);\nconst ErrorDetails = styled(CodeBlockContainer).withConfig({\n  componentId: \"sc-1ewc626-3\"\n})([\"max-width:1200px;margin-bottom:32px;\"]);\nconst STATUS_CODES = new Map([[400, \"Bad request\"], [403, \"Forbidden\"], [404, \"Page not found\"], [405, \"Method not allowed\"], [500, \"Internal server error\"]]);\nexport function ErrorPage(props) {\n  var _error$stack;\n\n  const {\n    error,\n    info,\n    title,\n    statusCode\n  } = props;\n  const message = title !== null && title !== void 0 ? title : statusCode && STATUS_CODES.has(statusCode) ? `Error ${statusCode}: ${STATUS_CODES.get(statusCode)}` : \"An unexpected error has occurred\";\n  return /*#__PURE__*/_jsxs(Container, {\n    children: [/*#__PURE__*/_jsx(Head, {\n      children: /*#__PURE__*/_jsx(\"title\", {\n        children: message\n      }, \"title\")\n    }), /*#__PURE__*/_jsx(Header, {\n      children: message\n    }), /*#__PURE__*/_jsxs(Message, {\n      children: [\"If you didn't expect this, please report it on the\", \" \", /*#__PURE__*/_jsx(\"a\", {\n        href: \"/discord\",\n        target: \"blank\",\n        rel: \"noopener\",\n        children: \"Discord support server\"\n      }), \", or create an issue on the\", \" \", /*#__PURE__*/_jsx(\"a\", {\n        href: \"https://github.com/discohook/site\",\n        target: \"blank\",\n        rel: \"noopener\",\n        children: \"GitHub repository\"\n      }), \".\"]\n    }), statusCode ? /*#__PURE__*/_jsx(Link, {\n      href: \"/\",\n      children: /*#__PURE__*/_jsx(SecondaryButton, {\n        children: \"Home\"\n      })\n    }) : /*#__PURE__*/_jsx(PrimaryButton, {\n      onClick: () => Router.reload(),\n      children: \"Refresh\"\n    }), error && info && /*#__PURE__*/_jsxs(_Fragment, {\n      children: [/*#__PURE__*/_jsx(Message, {\n        children: \"Technical details are provided below (please forward this)\"\n      }), /*#__PURE__*/_jsxs(ErrorDetails, {\n        children: [String(error), \"\\n\", (_error$stack = error.stack) === null || _error$stack === void 0 ? void 0 : _error$stack.replace(String(error), \"\").replace(/^\\n|\\n$/g, \"\"), info.componentStack]\n      })]\n    })]\n  });\n}","map":{"version":3,"sources":["/home/runner/work/site/site/common/page/ErrorPage.tsx"],"names":["Head","Link","Router","React","styled","CodeBlockContainer","PrimaryButton","SecondaryButton","SCREEN_SMALL","Container","div","Header","h1","theme","header","primary","Message","p","ErrorDetails","STATUS_CODES","Map","ErrorPage","props","error","info","title","statusCode","message","has","get","reload","String","stack","replace","componentStack"],"mappings":";;;AAAA,OAAOA,IAAP,MAAiB,WAAjB;AACA,OAAOC,IAAP,MAAiB,WAAjB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAOC,KAAP,MAAiC,OAAjC;AACA,OAAOC,MAAP,MAAmB,mBAAnB;AACA,SAASC,kBAAT,QAAmC,kDAAnC;AACA,SAASC,aAAT,QAA8B,+BAA9B;AACA,SAASC,eAAT,QAAgC,iCAAhC;AACA,SAASC,YAAT,QAA6B,uBAA7B;AAEA,MAAMC,SAAS,GAAGL,MAAM,CAACM,GAAV;AAAA;AAAA,+EAOXF,YAPW,CAAf;AAYA,MAAMG,MAAM,GAAGP,MAAM,CAACQ,EAAV;AAAA;AAAA,4CAGD,CAAC;AAAEC,EAAAA;AAAF,CAAD,KAAeA,KAAK,CAACC,MAAN,CAAaC,OAH3B,CAAZ;AAOA,MAAMC,OAAO,GAAGZ,MAAM,CAACa,CAAV;AAAA;AAAA,uEAAb;AASA,MAAMC,YAAY,GAAGd,MAAM,CAACC,kBAAD,CAAT;AAAA;AAAA,4CAAlB;AAKA,MAAMc,YAAiC,GAAG,IAAIC,GAAJ,CAAQ,CAChD,CAAC,GAAD,EAAM,aAAN,CADgD,EAEhD,CAAC,GAAD,EAAM,WAAN,CAFgD,EAGhD,CAAC,GAAD,EAAM,gBAAN,CAHgD,EAIhD,CAAC,GAAD,EAAM,oBAAN,CAJgD,EAKhD,CAAC,GAAD,EAAM,uBAAN,CALgD,CAAR,CAA1C;AAeA,OAAO,SAASC,SAAT,CAAmBC,KAAnB,EAA0C;AAAA;;AAC/C,QAAM;AAAEC,IAAAA,KAAF;AAASC,IAAAA,IAAT;AAAeC,IAAAA,KAAf;AAAsBC,IAAAA;AAAtB,MAAqCJ,KAA3C;AAEA,QAAMK,OAAO,GACXF,KADW,aACXA,KADW,cACXA,KADW,GAEVC,UAAU,IAAIP,YAAY,CAACS,GAAb,CAAiBF,UAAjB,CAAd,GACI,SAAQA,UAAW,KAAIP,YAAY,CAACU,GAAb,CAAiBH,UAAjB,CAA6B,EADxD,GAEG,kCAJN;AAMA,sBACE,MAAC,SAAD;AAAA,4BACE,KAAC,IAAD;AAAA,6BACE;AAAA,kBAAoBC;AAApB,SAAW,OAAX;AADF,MADF,eAIE,KAAC,MAAD;AAAA,gBAASA;AAAT,MAJF,eAKE,MAAC,OAAD;AAAA,uEAC0D,GAD1D,eAEE;AAAG,QAAA,IAAI,EAAC,UAAR;AAAmB,QAAA,MAAM,EAAC,OAA1B;AAAkC,QAAA,GAAG,EAAC,UAAtC;AAAA;AAAA,QAFF,iCAK8B,GAL9B,eAME;AACE,QAAA,IAAI,EAAC,mCADP;AAEE,QAAA,MAAM,EAAC,OAFT;AAGE,QAAA,GAAG,EAAC,UAHN;AAAA;AAAA,QANF;AAAA,MALF,EAoBGD,UAAU,gBACT,KAAC,IAAD;AAAM,MAAA,IAAI,EAAC,GAAX;AAAA,6BACE,KAAC,eAAD;AAAA;AAAA;AADF,MADS,gBAKT,KAAC,aAAD;AAAe,MAAA,OAAO,EAAE,MAAMxB,MAAM,CAAC4B,MAAP,EAA9B;AAAA;AAAA,MAzBJ,EA2BGP,KAAK,IAAIC,IAAT,iBACC;AAAA,8BACE,KAAC,OAAD;AAAA;AAAA,QADF,eAIE,MAAC,YAAD;AAAA,mBACGO,MAAM,CAACR,KAAD,CADT,EAEG,IAFH,kBAGGA,KAAK,CAACS,KAHT,iDAGG,aAAaC,OAAb,CAAqBF,MAAM,CAACR,KAAD,CAA3B,EAAoC,EAApC,EAAwCU,OAAxC,CAAgD,UAAhD,EAA4D,EAA5D,CAHH,EAIGT,IAAI,CAACU,cAJR;AAAA,QAJF;AAAA,MA5BJ;AAAA,IADF;AA2CD","sourcesContent":["import Head from \"next/head\"\nimport Link from \"next/link\"\nimport Router from \"next/router\"\nimport React, { ErrorInfo } from \"react\"\nimport styled from \"styled-components\"\nimport { CodeBlockContainer } from \"../../modules/markdown/styles/CodeBlockContainer\"\nimport { PrimaryButton } from \"../input/button/PrimaryButton\"\nimport { SecondaryButton } from \"../input/button/SecondaryButton\"\nimport { SCREEN_SMALL } from \"../layout/breakpoints\"\n\nconst Container = styled.div`\n  height: 100%;\n\n  overflow: auto;\n\n  padding: 64px 32px 0;\n\n  ${SCREEN_SMALL} {\n    padding: 32px 16px;\n  }\n`\n\nconst Header = styled.h1`\n  margin: 0;\n\n  color: ${({ theme }) => theme.header.primary};\n  font-size: 28px;\n`\n\nconst Message = styled.p`\n  margin: 16px 0;\n\n  max-width: 600px;\n\n  font-size: 16px;\n  line-height: 1.375;\n`\n\nconst ErrorDetails = styled(CodeBlockContainer)`\n  max-width: 1200px;\n  margin-bottom: 32px;\n`\n\nconst STATUS_CODES: Map<number, string> = new Map([\n  [400, \"Bad request\"],\n  [403, \"Forbidden\"],\n  [404, \"Page not found\"],\n  [405, \"Method not allowed\"],\n  [500, \"Internal server error\"],\n])\n\nexport type ErrorPageProps = {\n  error?: Error\n  info?: ErrorInfo\n  title?: string\n  statusCode?: number\n}\n\nexport function ErrorPage(props: ErrorPageProps) {\n  const { error, info, title, statusCode } = props\n\n  const message =\n    title ??\n    (statusCode && STATUS_CODES.has(statusCode)\n      ? `Error ${statusCode}: ${STATUS_CODES.get(statusCode)}`\n      : \"An unexpected error has occurred\")\n\n  return (\n    <Container>\n      <Head>\n        <title key=\"title\">{message}</title>\n      </Head>\n      <Header>{message}</Header>\n      <Message>\n        If you didn&apos;t expect this, please report it on the{\" \"}\n        <a href=\"/discord\" target=\"blank\" rel=\"noopener\">\n          Discord support server\n        </a>\n        , or create an issue on the{\" \"}\n        <a\n          href=\"https://github.com/discohook/site\"\n          target=\"blank\"\n          rel=\"noopener\"\n        >\n          GitHub repository\n        </a>\n        .\n      </Message>\n      {statusCode ? (\n        <Link href=\"/\">\n          <SecondaryButton>Home</SecondaryButton>\n        </Link>\n      ) : (\n        <PrimaryButton onClick={() => Router.reload()}>Refresh</PrimaryButton>\n      )}\n      {error && info && (\n        <>\n          <Message>\n            Technical details are provided below (please forward this)\n          </Message>\n          <ErrorDetails>\n            {String(error)}\n            {\"\\n\"}\n            {error.stack?.replace(String(error), \"\").replace(/^\\n|\\n$/g, \"\")}\n            {info.componentStack}\n          </ErrorDetails>\n        </>\n      )}\n    </Container>\n  )\n}\n"]},"metadata":{},"sourceType":"module"}